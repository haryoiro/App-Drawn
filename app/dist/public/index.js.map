{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/public/index.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/public/index.ts\");\n","import e from \"express\";\n\n// import io from \"socket.io-client\"\nconst socket = io.connect('http://localhost:5000')\n\n\nclass Application{\n  public canvas: HTMLCanvasElement;\n  public context2D: CanvasRenderingContext2D;\n  private _width!: number\n  private _height!: number\n  constructor(canvas: HTMLCanvasElement, context2D: CanvasRenderingContext2D) {\n    this.canvas = canvas;\n    this.context2D = context2D;\n  }\n  public setUpView(\n    width: number,\n    height: number,\n    color: string,\n    hide: boolean = false,\n    smooth: boolean = false,\n  ): void {\n    this._settingCanvasSize(width, height);\n    this._backgroundColor(color);\n    this._hideMenuHandler(hide);\n    this._isImageSmoothing(smooth);\n  }\n  private _settingCanvasSize(width: number, height: number): void {\n    this.canvas.width = width;\n    this.canvas.height = height;\n  }\n  public clearAll(): void {\n    this.context2D.clearRect(0, 0, this.width, this.height);\n    this.context2D.beginPath();\n  }\n  private _backgroundColor(color: string): void {\n    this.context2D.fillStyle = color;\n    this.context2D.fillRect(0, 0, this.width, this.height);\n  }\n  private _hideMenuHandler(bool: boolean): void {\n    if(bool){\n      document.addEventListener('contextmenu', e => e.preventDefault());\n      document.addEventListener('MSHoldVisal', e => e.preventDefault());\n    }\n  }\n  private _isImageSmoothing(bool: boolean): void {\n    this.context2D.imageSmoothingEnabled = bool;\n  }\n  // *getter/setter Method\n  public get width(): number {\n    return this._width;\n  }\n  public set width(value: number) {\n    this._width = value;\n  }\n  public get height(): number {\n    return this._height;\n  }\n  public set height(value: number) {\n    this._height = value;\n  }\n}\n\n\nconst eventStack: PointerEvent[] = [];\ninterface drawPointsObject {\n  X: MouseEvent | PointerEvent | number\n  Y: MouseEvent | PointerEvent | number\n  pressure?: MouseEvent | PointerEvent | number\n}\nclass Tools extends Application {\n  // ----- ツール関連プロパティ\n  canvasColor:  string = \"#000\"\n  private drawToggle: boolean = false\n  private eraserToggle: boolean  = false\n  private pressureToggle: boolean = false\n  // ----- Pinch/Zoom用プロパティ -----\n  private nowR!: number // 現在の拡大率\n  private p1!: PointerEvent; // 最初に触れた指\n  private p2!: PointerEvent  // 次に触れた指\n  private dx!: number\n  private dy!: number\n\n  private dist!: number\n  private pinchDist!: number\n\n  private distX!: number // 横からの距離\n  private distY!: number // 上からの距離\n  private tp1x!: number\n  private tp1y!: number\n  private zoomX: number\n  private zoomY: number\n  private isScale!: number\n  // ----- PenSize用プロパティ -----\n  private defRad = 10;\n  private penRadius!: number\n  private capStyle: CanvasLineCap = 'round'\n  private joinStyle: CanvasLineJoin = 'round';\n  private scale: string\n\n  public drawPointObject!: drawPointsObject\n  private _pinchToggle: boolean;\n\n  constructor(element: HTMLCanvasElement, context2D: CanvasRenderingContext2D | any) {\n    super(element, context2D);\n    this.eventActivation();\n  }\n  public eventActivation(): void {\n    if (window.PointerEvent) {\n      document.addEventListener('pointerdown', (event): void => this.downPointerController(event), {\n        passive: false,\n      });\n      document.addEventListener('pointerup', (event): void=> this.upPointerController(event), {\n        passive: false,\n      });\n      document.addEventListener('pointermove', (event): void => this.movePointerController(event), {\n        passive: false,\n      });\n      document.addEventListener('pointercancel',  (event): void => this.leavePointerHandler(event), {\n        passive: false,\n      });\n      document.addEventListener('wheel', (event) => {\n        event.preventDefault();\n        this.nowR ? this.nowR : this.nowR = 1\n        if(event.deltaY > 1){\n          this.nowR -= 0.2\n          this._pinchToggle = true\n        } else if(event.deltaY < -1){\n          this.nowR += 0.2\n          this._pinchToggle = true\n        } else {\n          this._pinchToggle = false\n        }\n        this._pinchHandle(event)\n      }, {\n        passive: false,\n      })\n      // this.canvas.addEventListener('pointerleave', event => this.leavePointerHandler(event), {\n      //   passive: false,\n      // });\n      document.addEventListener('pointerout',  (event): void => this.leavePointerHandler(event), {\n          passive: false,\n      });\n    } else {\n      this.canvas.addEventListener('mousedown',  (event): void => this.downMouseHandler(event));\n      this.canvas.addEventListener('mouseup',  (event): void => this.upMouseHandler(event));\n      this.canvas.addEventListener('mousemove',  (event): void => this.moveMouseHandler(event));\n      this.canvas.addEventListener('mouseleave',  (event): void => this.leaveMouseHandler(event));\n    }\n  }\n  public pointerSwitcher(event: PointerEvent, pen: void, touch: void, mouse: void): void {\n    switch (event.pointerType) {\n      case 'pen':\n        pen;\n        break;\n      case 'touch':\n        touch;\n        break;\n      case 'mouse':\n        mouse;\n        break;\n    }\n  }\n  // ---- PointerEvents ---\n  // !------ Switcher ------\n  // *- Main Callback Functions -\n  public downPointerController(event: PointerEvent): void {\n    event.preventDefault()\n    this.pointerSwitcher(\n      event,\n      this.handlePenDown(event),\n      this.handleTouchDown(event),\n      this.handleMouseDown(event),\n    );\n  }\n  public movePointerController(event: PointerEvent): void {\n    event.preventDefault()\n    this.pointerSwitcher(\n      event,\n      this.handlePenMove(event),\n      this.handleTouchMove(event),\n      this.handleMouseMove(event),\n    );\n  }\n  public upPointerController(event: PointerEvent): void {\n    event.preventDefault()\n    this.pointerSwitcher(\n      event,\n      this.handlePenUp(event),\n      this.handleTouchUp(event),\n      this.handleMouseUp(event),\n    );\n  }\n  // ---- PointerEvents ---\n  // *------- DOWN -------\n  private handlePenDown(event: PointerEvent): void {\n    event.preventDefault();\n    this.context2D.beginPath();\n    this.drawToggle = true;\n  }\n  private handleTouchDown(event: PointerEvent): void {\n    event.preventDefault();\n    this.context2D.beginPath();\n    eventStack.push(event);\n    if (eventStack.length === 1) {\n      this.drawToggle = true;\n      this.p1 = eventStack[0]\n    }\n    if (eventStack.length >= 2) {\n      this.drawToggle = false\n      this.p2 = eventStack[1]\n      this.pinchDist = this._calclationPointsDistance(\n        this.p1.pageX,\n        this.p1.pageY,\n        this.p2.pageX,\n        this.p2.pageY,\n      );\n\n      this.tp1x = (eventStack[0].pageX - this.canvas.offsetLeft)\n      this.tp1y = (eventStack[0].pageY - this.canvas.offsetTop)\n      this.distX =(eventStack[0].pageX - this.tp1x)\n      this.distY =(eventStack[0].pageY - this.tp1y)\n      this.nowR = this.dist / this.pinchDist;\n    }\n  }\n  private handleMouseDown(event: PointerEvent): void {\n    event.preventDefault();\n    this.context2D.beginPath();\n    this.drawToggle = true;\n  }\n\n  // ---- PointerEvents ---\n  // *------- MOVE -------\n  public handlePenMove(event: PointerEvent): void {\n    event.preventDefault();\n    if (this.drawToggle) {\n      this.context2D.lineWidth = this._activatePressure(event)\n      this.pencilTool(event);\n      this.stackPoint(this._puressurePoints(event))\n    }\n  }\n  public handleMouseMove(event: PointerEvent): void {\n    event.preventDefault();\n    this.zoomX = event.pageX\n    this.zoomY = event.pageY\n    if (this.drawToggle) {\n      this.context2D.lineWidth = this._activatePressure(event)\n      this.pencilTool(event);\n      this.stackPoint(this._simplePoints(event))\n    }\n  }\n  public handleTouchMove(event: PointerEvent): void {\n    event.preventDefault();\n    for (let i = 0; i < eventStack.length; i++) {\n      if (eventStack[i].pointerId === event.pointerId) {\n        eventStack[i] = event;\n      }\n    }\n    if(eventStack.length >= 3){\n      this.drawToggle = false\n      eventStack.splice(0, 2)\n    }\n    this.p1 = eventStack[0];\n    if (eventStack.length < 1 && this.drawToggle){\n      this.context2D.lineWidth = this._activatePressure(event)\n      this.eraseTool();\n      this.settingPenConf(this.canvasColor, this.capStyle, this.joinStyle);\n      this.drawLine(event.offsetX, event.offsetY);\n      this.stackPoint(this._simplePoints(event))\n    }\n    if (eventStack.length >= 2) {\n      this.p2 = eventStack[1];\n      this.drawToggle = false;\n\n      this.dist = this._calclationPointsDistance(\n        this.p1.pageX,\n        this.p1.pageY,\n        this.p2.pageX,\n        this.p2.pageY,\n      )\n      this.nowR = this.dist / this.pinchDist;\n      this.distX = (eventStack[0].pageX - this.tp1x)\n      this.distY = (eventStack[0].pageY - this.tp1y)\n    }\n    this._pinchHandle();\n  }\n\n  // ---- PointerEvents ---\n  // *--------  UP  --------\n  private handlePenUp(event: PointerEvent): void {\n    event.preventDefault();\n    this.drawToggle = false;\n    this.emitStack.push({color: this.canvasColor, cap: this.capStyle, join: this.joinStyle, erase: this.eraserToggle})\n    this.emitPoint(this.emitStack)\n    this.emitStack = []\n    this.context2D.beginPath();\n  }\n  private handleTouchUp(event: PointerEvent): void {\n    event.preventDefault();\n    this.drawToggle = false;\n    this.emitStack.push({color: this.canvasColor, cap: this.capStyle, join: this.joinStyle, erase: this.eraserToggle})\n    this.emitPoint(this.emitStack)\n    this.emitStack = []\n    this.context2D.beginPath();\n    this._removeEventStack(event);\n  }\n  private handleMouseUp(event: PointerEvent): void {\n    event.preventDefault();\n    this.drawToggle = false;\n    this.emitStack.push({color: this.canvasColor, cap: this.capStyle, join: this.joinStyle, erase: this.eraserToggle})\n    this.emitPoint(this.emitStack)\n    this.emitStack = []\n    this.context2D.beginPath();\n  }\n\n  // ---- PointerEvents ---\n  // *------- LEAVE -------\n  public leavePointerHandler(event: PointerEvent): void {\n    event.preventDefault()\n    this.context2D.beginPath();\n    this.drawToggle = false;\n  }\n\n  // ---- MouseEvents ----\n  // *-- LEGACY EVENTS --\n  public downMouseHandler(event: MouseEvent): void {\n    event.preventDefault()\n    this.drawToggle = true;\n  }\n  public moveMouseHandler(event: MouseEvent): void {\n    event.preventDefault\n    if (this.drawToggle) {\n      this.context2D.lineWidth =  this.defRad * 0.5\n      this.pencilTool(event);\n      this.stackPoint(this._simplePoints(event))\n    }\n  }\n  public upMouseHandler(event: MouseEvent): void {\n    event.preventDefault()\n    this.drawToggle = false;\n    this.context2D.beginPath();\n  }\n  public leaveMouseHandler(event: MouseEvent): void {\n    event.preventDefault()\n    this.drawToggle = false;\n  }\n\n  // ---- PencilTools ----\n  public pencilTool(event: MouseEvent): void {\n    this.eraseTool();\n    this.settingPenConf(this.canvasColor, this.capStyle, this.joinStyle);\n    this.drawLine(event.offsetX, event.offsetY);\n  }\n\n  public settingPenConf(\n    color: string,\n    capStyle: CanvasLineCap,\n    JoinStyle: CanvasLineJoin,\n  ): void {\n    this.context2D.strokeStyle = color;\n    this.context2D.fillStyle = color;\n    this.context2D.lineCap = capStyle;\n    this.context2D.lineJoin = JoinStyle;\n  }\n\n  public drawLine(x: number, y: number): void {\n    this.context2D.lineTo(x, y);\n    this.context2D.stroke();\n    this.context2D.beginPath();\n    this.context2D.moveTo(x, y);\n  }\n\n  public eraseTool(): void {\n    this.eraserToggle\n      ? (this.context2D.globalCompositeOperation = 'destination-out')\n      : (this.context2D.globalCompositeOperation = 'source-over');\n  }\n  public setPencilColor(color: string): void {\n    this.canvasColor = color;\n  }\n  private _calclationPointsDistance(p1x: number, p1y: number, p2x: number, p2y: number): number {\n    const X = p1x - p2x;\n    const Y = p1y - p2y;\n    return Math.sqrt(X * X + Y * Y) / 2;\n  }\n\n  // 筆圧に対応していた場合値を返す\n  private _activatePressure(event: PointerEvent): number {\n    let Rad = this.defRad;\n    if (event.pressure < 0.995 || event.pressure > 0.05) {\n      event.pressure ? (Rad *= event.pressure) : (Rad /= event.pressure);\n      return Rad;\n    } else if (event.pressure <= 0.05 || event.pressure > 0.01) {\n      return Rad *= 0.05;\n    } else if (event.pressure >= 0.995){\n      return Rad *= 0.995\n    }\n  }\n  public initializePressure(event: {pressure: number}): number {\n    let Rad = this.defRad;\n    if (event.pressure < 0.995 || event.pressure > 0.05) {\n      event.pressure ? (Rad *= event.pressure) : (Rad /= event.pressure);\n      return Rad;\n    } else if (event.pressure <= 0.05 || event.pressure > 0.01) {\n      return Rad *= 0.05;\n    } else if (event.pressure >= 0.995){\n      return Rad *= 0.995\n    }\n  }\n  // タッチイベントをスタックから削除\n  private _removeEventStack(event: PointerEvent): void {\n    for (let i = 0; i < eventStack.length; i++) {\n      if (eventStack[i].pointerId === event.pointerId) {\n        eventStack.splice(i, 1);\n      }\n    }\n  }\n  // ピンチズーム処理\n  private _pinchHandle(event?:WheelEvent): void {\n    let style = document.getElementById('canvas')!.style;\n    let scale; \n    if(this.nowR >= 20){\n        this.nowR = 10\n      }else if(this.nowR <= 0.05){\n        this.nowR = 0.05\n      }else{\n        style.transformOrigin = `${Math.abs(event.pageX)}px ${Math.abs(event.pageY)}px`\n        scale = `scale(${this.nowR})`;\n      }\n\n      style.left = this.distX + 'px';\n      style.top = this.distY + 'px';\n      style.transform = scale;\n      style.webkitTransform = scale;\n      //@ts-ignore\n      style.MozTransform =  scale;\n      //@ts-ignore\n      style.msTransform= scale;\n  }\n  private _puressurePoints(event: PointerEvent): drawPointsObject{\n    return {X: event.offsetX,Y: event.offsetY,pressure: event.pressure}\n  }\n  private _simplePoints(event: MouseEvent): drawPointsObject{\n    return {X: event.offsetX,Y: event.offsetY,pressure: 0}\n  }\n\n\n  // ---- - UndoRedo -------\n  // private STACK_MAX_SIZE: number = 100\n  // private undoStack = []\n  // private redoStack = []\n  private emitStack = []\n  private undoRedo(){\n\n  }\n  // ---- - Socket.IO -----\n\n  private stackPoint(pointObj?: drawPointsObject) {\n    this.emitStack.push(pointObj)\n  }\n  private emitPoint(pointObj?: object) {\n    socket.emit('point', pointObj)\n  }\n}\n\n\nconst graph: HTMLCanvasElement = document.querySelector('#canvas');\nconst c: CanvasRenderingContext2D = graph.getContext('2d');\n\nconst view = new Tools(graph, c);\n\n\n// Application.prototype.serUpView\n//    (context , backgroundColor, hideMenu, smoothRendering)\nview.setUpView(1920, 1080, '#ffffff', true, false);\nsocket.on('point', points => {\n  view.context2D.beginPath()\n  view.settingPenConf(points[points.length-1].color, points[points.length-1].cap, points[points.length-1].join);\n  if (points[points.length-1].erase){\n    view.context2D.globalCompositeOperation = 'destination-out'\n  }\n  // let set = points.splice(-1, 1)\n  // view.settingPenConf(set.color, set.cap, set.join);\n  // set.erase\n  //   ?  view.context2D.globalCompositeOperation = 'destination-out'\n  //   :  view.context2D.globalCompositeOperation = 'source-over'\n  // points.map(p => {\n  //   console.log(p.X,p.Y,p.pressure)\n  //   view.context2D.lineWidth = view.initializePressure(p.pressure)\n  //   view.drawLine(p.X, p.Y);\n  // })\n  for(let i in points){\n    view.context2D.lineWidth = view.initializePressure(points[i])\n    view.drawLine(points[i].X, points[i].Y);\n  }\n    view.eraseTool()\n})"],"sourceRoot":""}